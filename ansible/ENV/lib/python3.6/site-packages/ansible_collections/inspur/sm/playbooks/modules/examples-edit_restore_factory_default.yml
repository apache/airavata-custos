- name: Restore default test
  hosts: ism
  connection: local
  gather_facts: no
  vars:
    ism:
      host: "{{ ansible_ssh_host }}"
      username: "{{ username }}"
      password: "{{ password }}"

  tasks:

  - name: "Set restore default auto"
    inspur.sm.edit_restore_factory_default:
      setting: "all"
      provider: "{{ ism }}"

  - name: "Set restore default manual"
    inspur.sm.edit_restore_factory_default:
      mode: "manual"
      override:
        - fru
        - ntp
        - network
        - user
      provider: "{{ ism }}"