---
#
# The hosts group used is provided by the group variable or defaulted to 'Intersight_Servers'.
# You can specify a specific host (or host group) on the command line:
#   ansible-playbook ... -e group=<your host group>
#   e.g., ansible-playbook server_profiles.yml -e group=TME_Demo
#
- hosts: "{{ group | default('Intersight_Servers') }}"
  connection: local
  gather_facts: false
  tasks:
    - import_role:
        name: servers/actions
      vars:
        # power and reset state
        # options: Policy, PowerOn, PowerOff, PowerCycle, HardReset, Shutdown, Reboot
        # Can override on the command line: ansible-playbook ... -e power_state=PowerCycle
        power_state: PowerOn
        # led locator state
        # options: On, Off, None
        # Can override on the command line: ansible-playbook ... -e locator_state=Off
        # locator_state: On
      delegate_to: localhost
